(()=>{class Sharer{constructor(config){this.config=config}openShareWindow(){let params=this.config.params||{};var keys=Object.keys(params);let str=0<keys.length?"?":"";keys.forEach((key,index)=>{0<index&&(str+="&"),params[key]&&(str+=key+"="+encodeURIComponent(String(params[key])))}),this.config.baseShareUrl+=str;var top,left,keys=this.config.getFullShareUrl();this.config.isLink?this.config.isBlank?window.open(keys,"_blank"):window.location.href=keys:(left=window.innerWidth/2-this.config.width/2+window.screenX,top=window.innerHeight/2-this.config.height/2+window.screenY,top=`scrollbars=no, width=${this.config.width}, height=${this.config.height}, top=${top}, left=`+left,left=window.open(keys,"",top),window.focus&&left&&left.focus())}}class SharerConfig{constructor(shareUrl,params,width,height,isLink,isBlank){this.baseShareUrl=shareUrl,this.params=params,this.width=width,this.height=height,this.isLink=isLink,this.isBlank=isBlank}getFullShareUrl(){let p=this.params||{};var keys=Object.keys(p);let str=0<keys.length?"?":"";return keys.forEach((key,index)=>{0<index&&(str+="&"),p[key]&&(str+=key+"="+encodeURIComponent(String(p[key])))}),this.baseShareUrl+str}}function getValue(elem,attr){let val=elem.getAttribute("data-"+attr);return null!==(val=val&&"hashtag"===attr&&!val.startsWith("#")?"#"+val:val)?val:""}function createSharerConfig(e,shareUrl,params){return new SharerConfig(shareUrl,params,parseInt(e.getAttribute("data-width")||"600"),parseInt(e.getAttribute("data-height")||"480"),"true"===e.getAttribute("data-link"),"true"===e.getAttribute("data-blank"))}let SharerConfigs={[SharerKey.Facebook]:e=>createSharerConfig(e,"https://www.facebook.com/sharer/sharer.php",{u:getValue(e,"url"),hashtag:getValue(e,"hashtag"),quote:getValue(e,"text")}),[SharerKey.LinkedIn]:e=>createSharerConfig(e,"https://www.linkedin.com/shareArticle",{url:getValue(e,"url")}),[SharerKey.X]:e=>createSharerConfig(e,"https://x.com/intent/tweet",{text:getValue(e,"text"),url:getValue(e,"url"),hashtags:getValue(e,"hashtags"),via:getValue(e,"via"),related:getValue(e,"related"),in_reply_to:getValue(e,"in_reply_to")}),[SharerKey.Threads]:e=>createSharerConfig(e,"https://threads.net/intent/post",{text:getValue(e,"text")+" "+getValue(e,"url")}),[SharerKey.Email]:e=>createSharerConfig(e,"mailto:"+getValue(e,"to"),{subject:getValue(e,"title"),body:getValue(e,"text")+"\n"+getValue(e,"url")}),[SharerKey.WhatsApp]:e=>createSharerConfig(e,"true"===getValue(e,"web")?"https://web.whatsapp.com/send":"https://wa.me/",{phone:getValue(e,"to"),text:getValue(e,"text")+" "+getValue(e,"url")}),[SharerKey.Telegram]:e=>createSharerConfig(e,"https://t.me/share",{text:getValue(e,"text"),url:getValue(e,"url")}),[SharerKey.Reddit]:e=>createSharerConfig(e,"https://www.reddit.com/submit",{url:getValue(e,"url"),title:getValue(e,"text")})};((window,document)=>{class socialShare{static init(){document.querySelectorAll("[data-share-to]").forEach(elem=>{elem.addEventListener("click",socialShare.add)})}static add(event){var event=event.currentTarget,sharerKey=(sharerKey=getValue(event=event,"share-to").toLowerCase(),(0,SharerConfigs[sharerKey])(event));new Sharer(sharerKey).openShareWindow()}}"complete"===document.readyState||"loading"!==document.readyState?socialShare.init():document.addEventListener("DOMContentLoaded",socialShare.init),window.socialShare=socialShare})(window,document)})();